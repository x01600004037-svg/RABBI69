// azan.js
// Auto Azan notification in ALL groups (Manual time version)
// File: modules/commands/azan.js

const schedule = require("node-schedule");

module.exports.config = {
┬а┬аname: "azan",
┬а┬аversion: "3.0.1",
┬а┬аhasPermssion: 0,
┬а┬аcredits: "Akash",
┬а┬аdescription: "ржкрзНрж░рждрж┐ржжрж┐ржи ржЖржЬрж╛ржирзЗрж░ рж╕ржорзЯ рж╕ржм ржЧрзНрж░рзБржкрзЗ ржЕржЯрзЛ ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи ржкрж╛ржарж╛ржмрзЗ",
┬а┬аcommandCategory: "Islamic",
┬а┬аusages: "ржЕржЯрзЛ рж░рж╛ржи",
┬а┬аcooldowns: 5
};

let jobs = [];

module.exports.onLoad = async function({ api }) {
┬а┬а// ржЖржЬрж╛ржирзЗрж░ ржЯрж╛ржЗржо (ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ рж╕рзНржЯрзНржпрж╛ржирзНржбрж╛рж░рзНржб ржЯрж╛ржЗржо)
┬а┬аconst prayerTimes = {
┬а┬а┬а┬а"ржлржЬрж░": "04:24",
┬а┬а┬а┬а"ржпрзЛрж╣рж░": "13:00",
┬а┬а┬а┬а"ржЖрж╕рж░": "16:30",
┬а┬а┬а┬а"ржорж╛ржЧрж░рж┐ржм": "18:06",
┬а┬а┬а┬а"ржПрж╢рж╛": "19:30"
┬а┬а};

┬а┬аfor (let [prayer, time] of Object.entries(prayerTimes)) {
┬а┬а┬а┬аconst [hour, minute] = time.split(":").map(Number);

┬а┬а┬а┬аconst job = schedule.scheduleJob({ hour, minute, tz: "Asia/Dhaka" }, function () {
┬а┬а┬а┬а┬а┬аconst msg = 
`ЁЯе░тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБЁЯе░
__ржЖрж╕рж╕рж╛рж▓рж╛ржорзБ ржЖрж▓рж╛ржЗржХрзБржо ЁЯХМ__

${prayer} ржПрж░ ржЖржЬрж╛ржи ржжрж┐ржЪрзНржЫрзЗ...!!
рж╕ржмрж╛ржЗ ржУржпрзБ ржХрж░рзЗ ржирж╛ржорж╛ржЬрзЗрж░ ржЬржирзНржп ржкрзНрж░рж╕рзНрждрзБржд рж╣ржУ ржЗржирж╢рж╛ржЖрж▓рзНрж▓рж╛рж╣ ЁЯд▓тПм
тШЮя╕Оя╕Оя╕ОЁЭРСЁЭРАЁЭРБЁЭРБЁЭРвтНЯЁЭРХЁЭРАЁЭРИтШЬя╕Оя╕О.
ЁЯе░тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБЁЯе░`;

┬а┬а┬а┬а┬а┬а// рж╕ржм ржЧрзНрж░рзБржкрзЗ ржкрж╛ржарж╛ржмрзЗ
┬а┬а┬а┬а┬а┬аfor (const threadID of global.data.allThreadID) {
┬а┬а┬а┬а┬а┬а┬а┬аapi.sendMessage(msg, threadID);
┬а┬а┬а┬а┬а┬а}
┬а┬а┬а┬а});

┬а┬а┬а┬аjobs.push(job);
┬а┬а}

┬а┬аconsole.log("тЬЕ ржЖржЬрж╛ржи ржирзЛржЯрж┐ржлрж┐ржХрзЗрж╢ржи рж╕рж┐рж╕рзНржЯрзЗржо ржЪрж╛рж▓рзБ рж╣рзЯрзЗржЫрзЗ (рж╕ржм ржЧрзНрж░рзБржкрзЗ)ред");
};

module.exports.run = async function() {
┬а┬а// ржХрзЛржирзЛ ржХржорж╛ржирзНржб ржжрж░ржХрж╛рж░ ржирзЗржЗ, ржЕржЯрзЛ ржЪрж▓ржмрзЗ
};
